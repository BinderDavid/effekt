interface Eff[A] {
    def eff(a: A): Unit
}

def foo { f: [A](A) => A / Eff[A] }: Unit =
    try {
        f(42)
        ()
    } with Eff[Int] {
        def eff(a) = println(a)
    }

def main() = {
    foo { [T](x: T) =>
        do eff(x)
        x
    }
}
